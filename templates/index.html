{% extends "layout.html" %}
{%block content%}

<br>
<br>
    <div class="container col-12">
        <div class="row">
        
          <img
      src="{{ image_url }}"
      alt="отсутствует изображение"
       
    />
  
   
    <form method="POST" enctype="multipart/form-data" class=' row mt-2 col-12 gx-5'>
        {% csrf_token %}
     
        <input
          class=" btn btn-primary col-5 container"
          type="file"
          accept="image"
          name="image"
          id="file"
        />
       
        <button class=" btn btn-primary col-6 container button-send" type="submit" id="submitBtn ">
          ПРЕДСКАЗАТЬ
        </button>
        <div class="status">
          <h3 class='text-danger'>{{ message }}</h3>
        </div>
      </form>
      
  </div>

<div class='container col-12 row'>
    

        <div class="container">
            <div class="row">
              <div class="col-md-6 col-lg-4">
                <div class="card bg-primary card-hover mb-9 bg-dark">
                  <div class="card-body text-center px-md-5 px-lg-6 my-2">
                     
                    
                  
                    <blockquote class="blockquote blockquote-sm mt-2">
                        <p class="font-normal mb-5 text-white fs-2 "> Название детали</p>
                        <footer class="text-uppercase text-dark footer-1 pb-3 bg-white"> {{ max_category }} </footer>
                        
                    </blockquote>
                  </div>
                </div>
              </div>
        
       {% comment %} Файл: <span class="name">{{ image.name }}</span>
        
        Предсказание: <span class="type">{{ max_category }}</span> {% endcomment %}
    


    <div class='col-8'>
        <table class="table table-striped table-bordered table-hover table-dark ">
            <thead class='top-cover center-block'>
                <tr>
                    <th scope="col  ">#</th>
                    <th scope="col">Деталь</th>
                    <th scope="col">Вероятность</th>
                  
                </tr>
            </thead>
            <tbody>
                {% for detail in detail_percentages %}
                <tr>
                    <th scope="row">{{forloop.counter}}</th>
                    <td>{{ detail.name }}</td>
               
                    <td class='text-primary'>{{ detail.percentage}}</td>
                    
                    </td>
        
                   
                </tr>
                {% endfor %}
            </tbody>
        </table> 
    </div>

</div>
 
</div>
</div>
      <style>
        img{
            height:700px;

        }
        .footer-1{
            border-radius:40px;
            font-size:30px;
        }
        .card {
            box-shadow: rgba(0, 0, 0, 0.1) 0px 8px 0px;
            position: relative;
            margin-bottom: 1.56rem;
        }
        .card {
            position: relative;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            flex-direction: column;
            min-width: 0px;
            overflow-wrap: break-word;
            background-color: rgb(248, 248, 248);
            background-clip: border-box;
            border: 0px solid rgba(0, 0, 0, 0.125);
            border-radius: 0.57rem;
        }
        
        .mb-9 {
            margin-bottom: 4.96rem !important;
        }
        
        .card-icon-border-large {
            width: 100px;
            height: 100px;
            margin: -3.06rem auto 0px;
            text-align: center;
            background-color: rgb(255, 255, 255);
            border: 6px solid;
            border-radius: 50%;
            font-size: 1.88rem;
            line-height: 90px;
            color: rgb(102, 102, 102);
        }
        .mtn-80 {
            margin-top: -5rem !important;
        }
       
        
        
        .bg-success {
            background-color: rgb(181, 213, 106) !important;
        }
        .border-success {
            border-color: rgb(181, 213, 106) !important;
        }
        .text-success {
            color: rgb(181, 213, 106) !important;
        }
        
        
      </style>
{% endblock %}